[settings]
os=Android
os.api_level=23
# Make sure to match os.api_level with CC/CXX in [buildenv]
arch=armv8
build_type=RelWithDebInfo
compiler=clang
compiler.version=17
compiler.cppstd=20
compiler.libcxx=c++_static

# @TODO: How can I scope this buildenv only for these 4 packages?
# Cross compile toolchain evn vars are required to build libffi, libgettext, libiconv and libxml2 for Android
# https://github.com/conan-io/conan-center-index/issues/24349
[buildenv]
# ANDROID_HOME env var is available in [buildenv]
AR=$ANDROID_HOME/ndk/26.3.11579264/toolchains/llvm/prebuilt/linux-x86_64/bin/llvm-ar
AS=$ANDROID_HOME/ndk/26.3.11579264/toolchains/llvm/prebuilt/linux-x86_64/bin/llvm-as
CC=$ANDROID_HOME/ndk/26.3.11579264/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android23-clang
CXX=$ANDROID_HOME/ndk/26.3.11579264/toolchains/llvm/prebuilt/linux-x86_64/bin/aarch64-linux-android23-clang++
LD=$ANDROID_HOME/ndk/26.3.11579264/toolchains/llvm/prebuilt/linux-x86_64/bin/ld
RANLIB=$ANDROID_HOME/ndk/26.3.11579264/toolchains/llvm/prebuilt/linux-x86_64/bin/llvm-ranlib
STRIP=$ANDROID_HOME/ndk/26.3.11579264/toolchains/llvm/prebuilt/linux-x86_64/bin/llvm-strip

# [conf]
# ANDROID_HOME env var is not available in [conf]
# tools.android:ndk_path=$ANDROID_HOME/ndk/26.3.11579264
# previously commented out tools.android:ndk_path will be added by build.yml workflow
